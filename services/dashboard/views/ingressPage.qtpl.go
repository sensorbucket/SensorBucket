// Code generated by qtc from "ingressPage.qtpl". DO NOT EDIT.
// See https://github.com/valyala/quicktemplate for details.

//line views/ingressPage.qtpl:1
package views

//line views/ingressPage.qtpl:1
import "time"

//line views/ingressPage.qtpl:2
import "sensorbucket.nl/sensorbucket/pkg/api"

//line views/ingressPage.qtpl:3
import (
	qtio422016 "io"

	qt422016 "github.com/valyala/quicktemplate"
)

//line views/ingressPage.qtpl:3
var (
	_ = qtio422016.Copy
	_ = qt422016.AcquireByteBuffer
)

//line views/ingressPage.qtpl:3
func (p *IngressPage) StreamBody(qw422016 *qt422016.Writer) {
//line views/ingressPage.qtpl:3
	qw422016.N().S(`
    <div 
        class="w-full xl:w-2/3 mx-auto bg-white border rounded-md"
    >
        <header class="border-b py-2 px-4 text-sm text-slate-700">
            Incoming data and processing statusses
        </header>
        <div 
            hx-get="`)
//line views/ingressPage.qtpl:11
	qw422016.E().S(u("/ingress/list"))
//line views/ingressPage.qtpl:11
	qw422016.N().S(`"
            hx-trigger="every 2s"
        >
            `)
//line views/ingressPage.qtpl:14
	StreamRenderIngressList(qw422016, p.Ingresses)
//line views/ingressPage.qtpl:14
	qw422016.N().S(`
        </div>
    </div>
`)
//line views/ingressPage.qtpl:17
}

//line views/ingressPage.qtpl:17
func (p *IngressPage) WriteBody(qq422016 qtio422016.Writer) {
//line views/ingressPage.qtpl:17
	qw422016 := qt422016.AcquireWriter(qq422016)
//line views/ingressPage.qtpl:17
	p.StreamBody(qw422016)
//line views/ingressPage.qtpl:17
	qt422016.ReleaseWriter(qw422016)
//line views/ingressPage.qtpl:17
}

//line views/ingressPage.qtpl:17
func (p *IngressPage) Body() string {
//line views/ingressPage.qtpl:17
	qb422016 := qt422016.AcquireByteBuffer()
//line views/ingressPage.qtpl:17
	p.WriteBody(qb422016)
//line views/ingressPage.qtpl:17
	qs422016 := string(qb422016.B)
//line views/ingressPage.qtpl:17
	qt422016.ReleaseByteBuffer(qb422016)
//line views/ingressPage.qtpl:17
	return qs422016
//line views/ingressPage.qtpl:17
}

//line views/ingressPage.qtpl:19
func StreamRenderIngressList(qw422016 *qt422016.Writer, ingresses []Ingress) {
//line views/ingressPage.qtpl:19
	qw422016.N().S(`
`)
//line views/ingressPage.qtpl:20
	for _, ingress := range ingresses {
//line views/ingressPage.qtpl:20
		qw422016.N().S(`
    <article class="flex justify-between text-sm border-b border-slate-100 px-4 py-2 hover:bg-slate-50">
        <section class="flex flex-col">
            <span>`)
//line views/ingressPage.qtpl:23
		qw422016.E().S(ingress.TracingID)
//line views/ingressPage.qtpl:23
		qw422016.N().S(`</span>
            <div class="text-slate-500 text-xs">
                <span>`)
//line views/ingressPage.qtpl:25
		qw422016.E().S(ingress.CreatedAt.Format("15:04:05 2006-01-02"))
//line views/ingressPage.qtpl:25
		qw422016.N().S(`</span>
                `)
//line views/ingressPage.qtpl:26
		if ingress.Device.Id != 0 {
//line views/ingressPage.qtpl:26
			qw422016.N().S(`
                    <a hx-target="main" href="`)
//line views/ingressPage.qtpl:27
			qw422016.E().S(u("/overview/devices/%d", ingress.Device.Id))
//line views/ingressPage.qtpl:27
			qw422016.N().S(`" class="ml-3 text-sky-600 hover:underline">`)
//line views/ingressPage.qtpl:27
			qw422016.E().S(ingress.Device.Code)
//line views/ingressPage.qtpl:27
			qw422016.N().S(`</a>
                `)
//line views/ingressPage.qtpl:28
		}
//line views/ingressPage.qtpl:28
		qw422016.N().S(`
            </div>
        </section>
        <section class="relative flex items-center">
            <ul class="flex items-center gap-4 z-10">
                `)
//line views/ingressPage.qtpl:33
		for _, step := range ingress.Steps {
//line views/ingressPage.qtpl:33
			qw422016.N().S(`
                    <li class="
                        flex relative items-center rounded-full py-1 px-2 text-xs border
                        bg-white group
                        `)
//line views/ingressPage.qtpl:37
			switch step.Status {
//line views/ingressPage.qtpl:38
			case 3:
//line views/ingressPage.qtpl:38
				qw422016.N().S(`
                         border-emerald-500
                        `)
//line views/ingressPage.qtpl:40
			case 4:
//line views/ingressPage.qtpl:40
				qw422016.N().S(`
                         border-orange-500
                        `)
//line views/ingressPage.qtpl:42
			case 5:
//line views/ingressPage.qtpl:42
				qw422016.N().S(`
                         border-rose-500
                        `)
//line views/ingressPage.qtpl:44
			default:
//line views/ingressPage.qtpl:44
				qw422016.N().S(`
                        `)
//line views/ingressPage.qtpl:45
			}
//line views/ingressPage.qtpl:45
			qw422016.N().S(`
                    ">
                        `)
//line views/ingressPage.qtpl:47
			qw422016.E().S(step.Label)
//line views/ingressPage.qtpl:47
			qw422016.N().S(`
                        `)
//line views/ingressPage.qtpl:48
			switch step.Status {
//line views/ingressPage.qtpl:49
			case 3:
//line views/ingressPage.qtpl:49
				qw422016.N().S(`
                        <iconify-icon class="w-3 pl-1 text-emerald-800" icon="fluent:checkmark-12-filled"></iconify-icon>
                        `)
//line views/ingressPage.qtpl:51
			case 4:
//line views/ingressPage.qtpl:51
				qw422016.N().S(`
                        <iconify-icon class="w-3 pl-1 text-orange-800" icon="carbon:in-progress"></iconify-icon>
                        `)
//line views/ingressPage.qtpl:53
			case 5:
//line views/ingressPage.qtpl:53
				qw422016.N().S(`
                        <iconify-icon class="w-3 pl-1 text-rose-800" icon="material-symbols:error"></iconify-icon>
                        `)
//line views/ingressPage.qtpl:55
			default:
//line views/ingressPage.qtpl:55
				qw422016.N().S(`
                        <iconify-icon class="w-3 pl-1 text-slate-800" icon="material-symbols:question-mark"></iconify-icon>
                        `)
//line views/ingressPage.qtpl:57
			}
//line views/ingressPage.qtpl:57
			qw422016.N().S(`
                        `)
//line views/ingressPage.qtpl:58
			if step.Tooltip != "" {
//line views/ingressPage.qtpl:58
				qw422016.N().S(`
                        <div class="
                            hidden hover:block group-hover:block absolute text-white bg-gray-800 bottom-full mb-2 left-1/2 -translate-x-1/2 px-3 rounded py-1
                            after:content-['_'] after:absolute after:top-full after:-translate-y-[0.25rem] after:left-1/2 after:-translate-x-1/2 after:bg-gray-800 after:w-2 after:h-2 after:rotate-45
                        ">
                            `)
//line views/ingressPage.qtpl:63
				qw422016.E().S(step.Tooltip)
//line views/ingressPage.qtpl:63
				qw422016.N().S(`
                        </div>
                        `)
//line views/ingressPage.qtpl:65
			}
//line views/ingressPage.qtpl:65
			qw422016.N().S(`
                    </li>
                `)
//line views/ingressPage.qtpl:67
		}
//line views/ingressPage.qtpl:67
		qw422016.N().S(`
            </ul>
            <div class="absolute border-b-2 left-0 right-0 top-1/2 -translate-y-1/2"></div>
        </section>
    </article>
`)
//line views/ingressPage.qtpl:72
	}
//line views/ingressPage.qtpl:72
	qw422016.N().S(`
`)
//line views/ingressPage.qtpl:73
}

//line views/ingressPage.qtpl:73
func WriteRenderIngressList(qq422016 qtio422016.Writer, ingresses []Ingress) {
//line views/ingressPage.qtpl:73
	qw422016 := qt422016.AcquireWriter(qq422016)
//line views/ingressPage.qtpl:73
	StreamRenderIngressList(qw422016, ingresses)
//line views/ingressPage.qtpl:73
	qt422016.ReleaseWriter(qw422016)
//line views/ingressPage.qtpl:73
}

//line views/ingressPage.qtpl:73
func RenderIngressList(ingresses []Ingress) string {
//line views/ingressPage.qtpl:73
	qb422016 := qt422016.AcquireByteBuffer()
//line views/ingressPage.qtpl:73
	WriteRenderIngressList(qb422016, ingresses)
//line views/ingressPage.qtpl:73
	qs422016 := string(qb422016.B)
//line views/ingressPage.qtpl:73
	qt422016.ReleaseByteBuffer(qb422016)
//line views/ingressPage.qtpl:73
	return qs422016
//line views/ingressPage.qtpl:73
}

//line views/ingressPage.qtpl:76
type IngressPage struct {
	BasePage
	Ingresses []Ingress
}

type IngressStep struct {
	Label   string
	Status  int
	Tooltip string
}

type Ingress struct {
	TracingID string
	CreatedAt time.Time
	Steps     []IngressStep
	Device    api.Device
}
